# Copilot Instructions

<!-- Auto-generated by mcp-copilot-instructions -->
<!-- Context: phase=refactoring, focus=コードレビュー, テストカバレッジ -->
<!-- Generated: 2025-12-01T06:44:23.193Z -->

## conventions: conventions/typescript.md


# TypeScript コーディング規約

## 型安全性

- すべての関数に明示的な戻り値の型を指定
- `any`型の使用は最小限に（やむを得ない場合のみ）
- `unknown`型を活用して型安全性を保つ

## 命名規則

- **変数/関数**: camelCase（例: `getUserData`, `totalCount`）
- **型/インターフェース**: PascalCase（例: `UserProfile`, `ApiResponse`）
- **定数**: UPPER_SNAKE_CASE（例: `MAX_RETRY_COUNT`）

## ファイル構成

```typescript
// インポート順序
import { 標準ライブラリ } from 'node:fs';
import { サードパーティ } from 'express';
import { 内部モジュール } from '../utils';

// 型定義
interface MyType { }

// 定数
const CONSTANT = 'value';

// 関数
export function myFunction(): ReturnType { }
```


---

## tools: tools/mcp-server-usage.md


# MCP Copilot Instructions Server の使い方

## 基本コンセプト

このMCPサーバは、**LLMのアテンション分散問題を解決**するために、巨大な指示書データベースから**今必要な指示だけを動的に抽出**します。

## 主要ツール

### `change_context` - 開発文脈の変更

現在の開発フェーズや焦点を変更すると、自動的に最適な指示書が生成されます。

```typescript
// 使用例: 開発フェーズに移行
change_context({
  action: "update",
  state: {
    phase: "development",
    focus: ["API認証", "JWT"],
    priority: "high"
  }
})
```

### 利用可能なphase

- `development`: 新機能開発
- `refactoring`: コードリファクタリング
- `testing`: テスト作成・修正
- `debugging`: バグ修正
- `documentation`: ドキュメント作成

## 動的指示書生成の仕組み

1. **change_context実行**: 開発文脈を設定
2. **自動スコアリング**: 現在のphase/focusから関連指示を計算
3. **指示書生成**: 必須指示 + 関連指示（最大10セクション）を抽出
4. **LLMが集中**: 今必要な指示だけでアテンションを集中

## 必須指示（常に含まれる）

- この使い方ガイド（tools/mcp-server-usage.md）
- TypeScript規約（conventions/typescript.md）


---

## conventions: conventions/git-workflow.md


# Git ワークフロー

## ブランチ戦略

- `main`: 本番環境
- `feature/xxx`: 新機能開発
- `fix/xxx`: バグ修正
- `refactor/xxx`: リファクタリング

## コミットメッセージ

```
<type>: <subject>

<body>
```

### Type
- `feat`: 新機能
- `fix`: バグ修正
- `docs`: ドキュメント
- `refactor`: リファクタリング
- `test`: テスト追加


---

## phases: phases/refactoring.md


# リファクタリングフェーズの指示

## リファクタリングの原則

1. **テストを先に書く**: 既存機能を壊さないことを保証
2. **小さなステップ**: 一度に一つの改善のみ
3. **頻繁にコミット**: 各改善ごとにコミット
4. **レビュー**: 変更の意図を明確に

## 重点ポイント

- 重複コードの削減（DRY原則）
- 関数の分割（単一責任の原則）
- 命名の改善（意図が伝わる名前）
- 不要なコードの削除


---

